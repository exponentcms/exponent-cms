/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 *//*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d={isIframeStarted:!1,isIframeLoaded:!1,iframeQueue:[],enqueueIframe:function(a){d.isLoaded="undefined"!=typeof Twitch,d.isLoaded?d.createIframe(a):(d.loadIframeApi(),d.iframeQueue.push(a))},loadIframeApi:function(){d.isIframeStarted||!function(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0],c=!1;a.src="//player.twitch.tv/js/embed/v1.js",a.onload=a.onreadystatechange=function(){c||d.readyState&&void 0!==d.readyState&&"loaded"!==d.readyState&&"complete"!==d.readyState||(c=!0,d.iFrameReady(),a.onload=a.onreadystatechange=null)},b.parentNode.insertBefore(a,b),d.isIframeStarted=!0}()},iFrameReady:function(){for(d.isLoaded=!0,d.isIframeLoaded=!0;d.iframeQueue.length>0;){var a=d.iframeQueue.pop();d.createIframe(a)}},createIframe:function(a){var b=new Twitch.Player(a.id,a);window["__ready__"+a.id](b)},getTwitchId:function(a){var b="";return a.indexOf("?")>0?(b=d.getTwitchIdFromParam(a),""===b&&(b=d.getTwitchIdFromUrl(a))):b=d.getTwitchIdFromUrl(a),b},getTwitchIdFromParam:function(a){if(void 0===a||null===a||!a.trim().length)return null;for(var b=a.split("?"),c=b[1].split("&"),d="",e=0,f=c.length;f>e;e++){var g=c[e].split("=");if(g[0].includes("channel=")){d=g[1];break}if(g[0].includes("video=")){d="v"+g[1];break}}return d},getTwitchIdFromUrl:function(a){if(void 0===a||null===a||!a.trim().length)return null;var b=a.split("?");a=b[0];var c=a.substring(a.lastIndexOf("/")+1);return null!==c.match(/^\d+$/i)?"v"+c:c},getTwitchType:function(a){return null!==a.match(/^v\d+/i)?"video":"channel"}},e={name:"twitch_iframe",options:{prefix:"twitch_iframe"},canPlayType:function(a){return["video/twitch","video/x-twitch"].includes(a)},create:function(a,b,c){function e(b){for(var c=0,d=b.length;d>c;c++){var e=mejs.Utils.createEvent(b[c],f);a.dispatchEvent(e)}}var f={},g=[],h=4,i=d.getTwitchId(c[0].src),j=void 0,k=void 0,l=null,m=!0,n=!1,o=null,p=!1,q=1,r=1/0,s=0;f.options=b,f.id=a.id+"_"+b.prefix,f.mediaElement=a;var t=mejs.html5media.properties,u=function(b){var c=""+b.substring(0,1).toUpperCase()+b.substring(1);f["get"+c]=function(){if(null!==l){var a=null;switch(b){case"currentTime":return s=l.getCurrentTime();case"duration":return r=l.getDuration();case"volume":return q=l.getVolume();case"paused":return m=l.isPaused();case"ended":return n=l.getEnded();case"muted":return l.getMuted();case"buffered":return{start:function(){return 0},end:function(){return 0},length:1};case"src":return"channel"===d.getTwitchType(i)?l.getChannel():l.getVideo();case"readyState":return h}return a}return null},f["set"+c]=function(c){if(null!==l)switch(b){case"src":var e="string"==typeof c?c:c[0].src,h=d.getTwitchId(e);"channel"===d.getTwitchType(i)?l.setChannel(h):l.setVideo(h);break;case"currentTime":l.seek(c),setTimeout(function(){var b=mejs.Utils.createEvent("timeupdate",f);a.dispatchEvent(b)},50);break;case"muted":l.setMuted(c),setTimeout(function(){var b=mejs.Utils.createEvent("volumechange",f);a.dispatchEvent(b)},50);break;case"volume":q=c,l.setVolume(c),setTimeout(function(){var b=mejs.Utils.createEvent("volumechange",f);a.dispatchEvent(b)},50);break;case"readyState":var j=mejs.Utils.createEvent("canplay",f);a.dispatchEvent(j)}else g.push({type:"set",propName:b,value:c})}};for(j=0,k=t.length;k>j;j++)u(t[j]);var v=mejs.html5media.methods,w=function(a){f[a]=function(){if(null!==l)switch(a){case"play":return m=!1,l.play();case"pause":return m=!0,l.pause();case"load":return null}else g.push({type:"call",methodName:a})}};for(j=0,k=v.length;k>j;j++)w(v[j]);window["__ready__"+f.id]=function(b){if(a.twitchPlayer=l=b,g.length)for(j=0,k=g.length;k>j;j++){var c=g[j];if("set"===c.type){var d=c.propName,h=""+d.substring(0,1).toUpperCase()+d.substring(1);f["set"+h](c.value)}else"call"===c.type&&f[c.methodName]()}var i=document.getElementById(f.id).firstChild;i.style.width="100%",i.style.height="100%";var o=["mouseover","mouseout"],q=function(b){var c=createEvent(b.type,f);a.dispatchEvent(c)};for(j=0,k=o.length;k>j;j++)i.addEventListener(o[j],q,!1);var r=void 0;l.addEventListener("ready",function(){m=!1,n=!1,e(["rendererready","loadedmetadata","loadeddata","canplay"])},!1),l.addEventListener("play",function(){p||(p=!0),m=!1,n=!1,e(["play","playing","progress"]),r=setInterval(function(){l.getCurrentTime(),e(["timeupdate"])},250)},!1),l.addEventListener("pause",function(){m=!0,n=!1,l.getEnded()||e(["pause"])},!1),l.addEventListener("ended",function(){m=!0,n=!0,e(["ended"]),clearInterval(r),p=!1,r=null},!1)};var x=a.originalNode.height,y=a.originalNode.width,z=document.createElement("div"),A=d.getTwitchType(i),B={id:f.id,width:y,height:x,playsinline:!1,autoplay:!1};return B[A]=i,z.id=f.id,z.style.width="100%",z.style.height="100%",a.originalNode.parentNode.insertBefore(z,a.originalNode),a.originalNode.style.display="none",d.enqueueIframe(B),f.setSize=function(a,b){null===d||isNaN(a)||isNaN(b)||(z.setAttribute("width",a),z.setAttribute("height",b))},f.hide=function(){f.pause(),o&&(o.style.display="none")},f.show=function(){o&&(o.style.display="")},f.destroy=function(){},f}};mejs.Utils.typeChecks.push(function(a){return a=a.toLowerCase(),a.includes("//www.twitch.tv")||a.includes("//player.twitch.tv")?"video/x-twitch":null}),mejs.Renderers.add(e)},{}]},{},[1]);